---
title: "3doca プロジェクトドキュメンテーションポリシー"
description: "理想的な技術ドキュメント環境のベースとなるポリシーと実践的なガイドライン"
tags:
  - documentation
  - policy
  - standards
  - diataxis
  - rag
category: reference
domain: documentation
difficulty: beginner
created_at: 2025-12-02
updated_at: 2025-12-02
version: "1.0"
author: Claude Code
---

# 3doca プロジェクトドキュメンテーションポリシー

## プロジェクト目的

このプロジェクトは、**理想的な技術ドキュメント環境のベース**を構築し、将来のプロジェクトで**テンプレートとして再利用可能**な体系を提供することを目的としています。

### 主要目標

1. **ベストプラクティスの実装** - 業界標準のフレームワークと手法を採用
2. **再利用性の最大化** - テンプレートと実例を通じて知識を伝播
3. **検索性の向上** - RAG対応設計でセマンティック検索を最適化
4. **継続的改善** - より良い方針があれば積極的にアップデート

---

## 設計原則

### Diátaxisフレームワーク

**4つのドキュメントタイプ**に基づいた体系的なドキュメント分類：

| タイプ | 目的 | 想定読者の状態 | 配置場所 |
|--------|------|---------------|---------|
| **チュートリアル** | 学習体験の提供 | 「学んでいる」 | `tutorials/` |
| **ハウツーガイド** | 特定タスクの解決 | 「やろうとしている」 | `how-to/` |
| **リファレンス** | 技術仕様の提供 | 「調べている」 | `reference/` |
| **説明** | 概念理解の促進 | 「理解しようとしている」 | `concepts/` |

**運用系ドキュメント階層**（5タイプ）：

```
ポリシー（原則・方針）           ← 変更頻度：年1回程度
    ↓
プレイブック（状況対応指針）     ← 複雑シナリオの意思決定枠組
    ↓
プロセスドキュメント            ← ワークフロー全体の流れ
    ↓
ランブック（運用手順書）        ← 具体的なタスク実行手順
    ↓
チートシート（早見表）          ← 即座参照用の要点集約
```

### RAG対応設計

**PostgreSQL/pgvector統合**を見据えたフロントマター標準化：

#### 必須フィールド（6項目）

```yaml
---
title: "ドキュメントタイトル"
description: "150文字以内の検索用説明"
tags:
  - tag1
  - tag2
category: process | playbook | runbook | reference | concepts
domain: data-analysis | cfd | gis | visualization
difficulty: beginner | intermediate | advanced
---
```

#### チャンクサイズ最適化

- **推奨サイズ**: 250〜512トークン（約1000〜2000文字）
- **理由**: 埋め込みモデルは全トークンを単一ベクトルに圧縮するため、大きすぎるチャンクは情報損失を招く

### 品質基準

#### 1. 1文書1概念
各ドキュメントは単一の主題を扱う。複数の概念を含む場合は分割を検討。

#### 2. 自己完結型セクション
各見出し配下が独立して意味を持つ。セクション単位で検索結果として表示されても理解可能。

#### 3. 代名詞の回避
「それ」「この」を避け、具体的な用語を繰り返す。

**良い例**:
```markdown
OpenFOAMでは checkMesh コマンドでメッシュ品質を検証する。
checkMesh は非直交性、スキューネス、アスペクト比を評価する。
```

**悪い例**:
```markdown
OpenFOAMでは checkMesh コマンドでメッシュ品質を検証する。
それは非直交性、スキューネス、アスペクト比を評価する。  ← 「それ」が不明確
```

#### 4. キーワードの前置
重要な概念は段落・文の冒頭に配置。

**良い例**:
```markdown
## OpenFOAMのメッシュ品質チェック  ← 見出しに主題を明示
```

---

## 命名規則

### ファイル名

| 規則 | 推奨 | 避けるべき |
|------|------|----------|
| **ケース** | `kebab-case.md` | `CamelCase.md`, `spaces in name.md` |
| **プレフィックス** | `01-`, `02-`（2桁ゼロ埋め） | `1-`, `2-`（ソート乱れ） |
| **特別ファイル** | `README.md`, `POLICY.md` | `readme.md`, `policy.md` |
| **長さ** | 31文字以下推奨 | 過度に長い名前 |

### フォルダ名

- **ルートレベル**: 番号プレフィックス必須（`01-`, `02-`）
- **サブディレクトリ**: kebab-case、番号は任意

### 番号体系

**順序が重要なコンテンツ**（チュートリアル、ステップ）にのみ使用：

- **templates/**: 00-05（機能順）
- **examples/**: 0x（プロセス）、1x（プレイブック）、2x（ランブック）、3x（リファレンス）

---

## 可視化方針

### 現状: Mermaid

**必須設定**:
```markdown
%%{init: {'theme': 'dark'}}%%
```

**推奨カラー**:
- 完了/Done: `#4ade80`（bright green）
- 進行中/In Progress: `#fbbf24`（bright orange）
- 未着手/Not Started: `#a78bfa`（bright purple）

**ダークモード最適化**:
- `pieOuterStrokeColor`: 背景色と同じ暗い色（`#1E1E2E`等）
- `pieOuterStrokeWidth`: `0.5px`
- `primaryBorderColor`: 背景色と同じ暗い色
- ノードスタイリング: `stroke-width:1px`

### 今後の拡張

**検討中の可視化ツール**:
- D2（ELKレイアウト、表現力高）
- PlantUML（UML図、C4アーキテクチャ）
- Graphviz（WASM実装、外部依存ゼロ）
- Excalidraw（手書き風、ブラウザ版）

**評価基準**:
1. GitHub統合性（30%）- ネイティブレンダリング
2. VS Code体験（25%）- 拡張品質、プレビュー応答性
3. LLM生成可能性（25%）- Claude理解度、生成精度
4. 表現力と美しさ（15%）- レイアウト品質、カスタマイズ性
5. 導入コスト（5%）- インストール複雑度、学習曲線

---

## 更新・拡張方針

### 継続的改善の原則

1. **フィードバック駆動** - 実際の使用経験に基づいて改善
2. **ベストプラクティスの追跡** - 業界標準の変化を反映
3. **技術進化への対応** - 新しいツールやフレームワークを評価
4. **後方互換性の維持** - 既存ドキュメントへの影響を最小化

### 更新プロセス

1. **提案**: 改善案をissue/discussionで提起
2. **評価**: 影響範囲と効果を分析
3. **実装**: テンプレート・実例を更新
4. **文書化**: POLICY.mdとshrimp-rules.mdを更新
5. **レビュー**: 品質確認とポリシー適合性分析

### 変更頻度の目安

| ドキュメントタイプ | 変更頻度 | 例 |
|------------------|---------|---|
| **ポリシー** | 年1回程度 | POLICY.md |
| **テンプレート** | 四半期ごと | templates/ |
| **実例** | 随時 | examples/ |
| **README** | 随時 | リンク追加・更新 |

---

## README.mdリンク必須化

### ルール

**新規ファイル作成時**:
1. 親ディレクトリの`README.md`に必ずリンクを追加
2. リンクには優先度（★1-5）、用途、対象読者を含める

**良い例**:
```markdown
### 📄 [01-data-analysis-process.md](./01-data-analysis-process.md)
**優先度**: ★★★★★
**用途**: データ解析の標準ワークフロー
**対象読者**: データアナリスト、初学者
```

### 理由

- **発見可能性**: リンクのないドキュメントは発見されにくく、メンテナンスされない
- **ナビゲーション**: 構造化されたリンクでドキュメント間の移動が容易
- **優先度の明示**: 重要なドキュメントを強調

---

## AIエージェント活用

### ドキュメント作成依頼時のプロンプト設計

**効果的なプロンプト構成**:

```
## タスク
[具体的なドキュメントタイプ]を作成してください。

## コンテキスト
- 対象読者: [経験レベル、役割]
- 使用ツール: [ソフトウェア、バージョン]
- 関連する既存ドキュメント: [リンク]

## 要件
- フォーマット: templates/XX-template.md に従う
- フロントマター: 必須フィールドを含める
- トーン: 技術的だが平易な日本語

## 含めるべき内容
1. [必須セクション1]
2. [必須セクション2]
```

### レビューチェックリスト

| チェック項目 | 検証方法 | 優先度 |
|------------|---------|-------|
| **事実の正確性** | 公式ドキュメントと照合 | 必須 |
| **コード例の動作** | 実際に実行して確認 | 必須 |
| **フロントマター** | 必須6フィールド確認 | 必須 |
| **README.mdリンク** | 親READMEに追加確認 | 必須 |
| **専門用語の適切さ** | ドメイン知識で判断 | 高 |
| **スタイルガイド準拠** | 命名規則、品質基準 | 高 |

---

## 参考資料

### 元ファイル

- [251129claude.md](./251129claude.md) - 技術ドキュメント体系構築ガイド（完全版）

### プロジェクトルール

- [shrimp-rules.md](../shrimp-rules.md) - AIエージェント用の開発ガイドライン

### 外部リソース

- [Diátaxis公式サイト](https://diataxis.fr/)
- [MADR（Markdown Architectural Decision Records）](https://adr.github.io/madr/)
- [Mermaid公式ドキュメント](https://mermaid.js.org/)

---

**作成日**: 2025-12-02
**バージョン**: 1.0
**メンテナー**: Claude Code (Shrimp Task Manager)
